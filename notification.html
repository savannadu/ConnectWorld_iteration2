<!--Page Title-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>


<style>
    img{
        width: 60px;
        height: 60px;
    }
    th {
        background: beige;
    }

    td, th {
        font-size: 120%;
        padding: 5px 0px;
    }
</style>
<!-- File Header -->
<div id="navbar-template">
    <div id="page-title"> Notification </div>
</div>

<div class="container-fluid">
    <!-- Buddy Request-->
    <!-- Buddy Updates-->
    <!-- Community Updatest-->
    <div id="communityTab"></div>



    <!-- Community update-->
    <script>
        var commUpdates = [["Comm1","img/greyprofilepic.png","Someone Joined your Community","8.00am"],["Comm2","img/greyprofilepic.png","omeone added a new activity in XXX community", "Yesterday"]];
        var newBuddiesList = [["Amy","img/greyprofilepic.png","8.10am"],["John","img/greyprofilepic.png","Yesterday"]];
        var buddyRequest = [["Amy", "img/greyprofilepic.png"], ["John", "img/greyprofilepic.png"], ["Harry", "img/greyprofilepic.png"]];

        show();

        function show () {
            var HTML = "<table width='100%'>";

            if (buddyRequest.length != 0) {
                // Buddy Updates
                HTML += "<tr><th colspan='4'>BUDDY REQUEST</th</tr>";

                for (x = 0; x < buddyRequest.length; x++) {
                    HTML += "<tr>";

                    <!-- IMAGE -->
                    HTML += "<td width='15%'>";
                    HTML += "<a href='profile.html?id=" + x + "'><img src='" + buddyRequest[x][1] + "'/></a>";
                    HTML += "</td>";

                    <!-- IMAGE -->
                    HTML += "<td>";
                    HTML += "<a href='communityProfile.html?id=" + x + "'>" + buddyRequest[x][0] + "</a>";
                    HTML += "</td>";

                    <!-- User Action Required -->
                    HTML += "<td width='15%'>";
                    HTML += "<span title='Accept Request'><a href='#' onclick='deleteNotification(x)'><i class='fa fa-check'></i></a></span>";
                    HTML += "</td>";

                    HTML += "<td width='15%'>";
                    HTML += "<span title='Reject Request'><a href='#' onclick='deleteNotification(x)'><i class='fa fa-close'></i></a></span>";
                    HTML += "</td>";

                    HTML += "</tr>";
                }
            }


            if (newBuddiesList.length != 0) {
                // Buddy Updates
                HTML += "<tr><th colspan='4'>NEW BUDDIES</th</tr>";

                for (j = 0; j < newBuddiesList.length; j++) {
                    HTML += "<tr>";

                    <!-- IMAGE -->
                    HTML += "<td width='15%'>";
                    HTML += "<a href='profile.html?id=" + j + "'><img src='" + newBuddiesList[j][1] + "'/></a>";
                    HTML += "</td>";

                    <!-- Name -->
                    HTML += "<td colspan'2'>";
                    HTML += "<a href='communityProfile.html?id=" + j + "'>" + newBuddiesList[j][0] + "</a>";
                    HTML += "</td>";

                    <!-- Timing -->
                    HTML += "<td align='right' width:'10%'>";
                    HTML += newBuddiesList[j][2];
                    HTML += "</td>";

                    HTML += "</tr>";
                }
            }
            if (commUpdates.length != 0)
            {
                // Community
                HTML += "<tr><th colspan='4'>COMMUNITY UPDATES</th</tr>";
                for (j = 0; j < commUpdates.length; j++){
                    HTML += "<tr>";

                    <!-- IMAGE -->
                    HTML += "<td width='15%'>";
                    HTML += "<a href='profile.html?id="+j+"'><img src='" + commUpdates[j][1] + "'/></a>";
                    HTML += "</td>";

                    <!-- Name and Content -->
                    HTML += "<td colspan='3'>";
                    HTML += "<a href='communityProfile.html?id="+j+"'>" + commUpdates[j][0] + "</a>";
                    HTML += "<br/>";
                    HTML += commUpdates[j][2];
                    HTML += "</td>";
                    HTML += "</tr>";
                }
            }


            HTML += "</table>";

            document.getElementById("communityTab").innerHTML = HTML;
        }

        function deleteNotification(i) {
            buddyRequest.splice(i, 1);
            alert(buddyRequest);
            show();
        }

    </script>
</div>

